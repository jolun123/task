vue中的diff总体原则是：深度优先，同级比较。分为四个种类：1、新旧vdom都有子节点，diff比较子节点，undatechildren方法;2、新vdom有子节点，旧vdom没有，删除旧的文本，追加子节点；3、新vdom没有子节点，旧vdom有，删除子节点；4、新旧vdom都没有子节点，更新文本。比较二个子节点，类似于比较2个数组，vue指定了4个指针，以新旧节点的开头结尾，为指针，分别比较是否相等，大部分情况下，更新一般是在头尾，这样就解决了大部分情况，大大缩小了循环次数，提高了效率。最后如找不到头尾一样的，再进行双循环找出一样的，一一比对。